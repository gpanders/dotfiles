[general]
ui = ttyui
metadata = ~/.config/offlineimap
pythonfile = ~/.config/offlineimap/helpers.py
accounts = gpanders, gmail

[mbnames]
enabled = yes
filename = ~/.config/mutt/mailboxes
header = "mailboxes "
peritem = "+%(accountname)s/%(foldername)s"
sep = " "
footer = "\n"

[Account gpanders]
localrepository = gpanders-local
remoterepository = gpanders-remote
postsynchook = notmuch new
autorefresh = 0.5
quick = 10

[Account gmail]
localrepository = gmail-local
remoterepository = gmail-remote
synclabels = yes
postsynchook = notmuch new
autorefresh = 0.5
quick = 10

[Repository gpanders-local]
type = Maildir
localfolders = ~/.mail/gpanders

[Repository gpanders-remote]
type = IMAP
sslcacertfile = /etc/ssl/cert.pem
remotehost = mail.gandi.net
remoteuser = greg@gpanders.com
remotepasseval = get_pass("mail/greg@gpanders.com")
nametrans = lambda f: "Sent" if f.startswith("Sent") else "Trash" if f.startswith("Trash") else f
folderfilter = lambda f: f not in ["Junk", "Spam"]
keepalive = 60
holdconnectionopen = yes

[Repository gmail-local]
type = GmailMaildir
localfolders = ~/.mail/gmail
nametrans = lambda f: "[Gmail]/" + f if f in ["Drafts", "Starred", "Important", "Spam", "Trash", "All Mail", "Sent Mail"] else f

[Repository gmail-remote]
type = Gmail
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
remoteuser = greg.p.anders@gmail.com
remotepasseval = get_pass("google/apps/offlineimap")
nametrans = lambda f: f.replace("[Gmail]/", "") if f.startswith("[Gmail]/") else f
folderfilter = lambda f: f in ["INBOX", "Drafts", "Sent Mail", "Snoozed", "Trash"]
keepalive = 60
holdconnectionopen = yes

# vim: ft=conf
